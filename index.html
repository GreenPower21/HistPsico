<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen Interactivo de Filosof√≠a y Psicolog√≠a</title>
    <!-- Incluimos Tailwind CSS para un estilo moderno y responsivo -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Incluimos Font Awesome para iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        /* Definimos los colores personalizados en el CSS para usarlos con Tailwind */
        :root {
            --color-success: #18b968;
            --color-error: #e7515a;
            --color-score: #0066cc;
            --color-star-filled: #f8c32b;
            --color-text-primary: #222;
            --color-text-secondary: #888;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* Fondo gris claro */
            color: var(--color-text-primary);
        }

        .container-quiz {
            max-width: 900px;
            background-color: #ffffff;
        }

        .question-card {
            background-color: #ffffff;
        }
        
        /* Clases para los estilos de retroalimentaci√≥n */
        .answer-button.correct {
            background-color: var(--color-success);
            color: white;
        }
        .answer-button.incorrect {
            background-color: var(--color-error);
            color: white;
        }
        .correct-answer-display {
            background-color: #d1fae5;
            color: #1a202c;
            border: 2px solid var(--color-success);
        }
        
        /* Clases para los bordes de la tarjeta de la pregunta */
        .card-border-correct {
            border: 2px solid var(--color-success);
        }
        .card-border-incorrect {
            border: 2px solid var(--color-error);
        }

        /* Animaci√≥n para el bot√≥n "Siguiente" */
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        .next-pulse {
            animation: pulse 1s infinite;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">
    <div id="quiz-container" class="container-quiz mx-auto p-4 md:p-8 rounded-3xl shadow-2xl bg-white border-4 border-gray-100 transition-all duration-300 ease-in-out">
        
        <!-- Contenedor del examen, visible durante el quiz -->
        <div id="quiz-screen">
            <h1 class="text-2xl sm:text-3xl md:text-4xl font-bold text-center mb-2 text-gray-800">
                Examen Interactivo de Filosof√≠a y Psicolog√≠a
            </h1>
            <p class="text-base sm:text-lg text-center mb-6 text-gray-600">
                Responde las siguientes preguntas de opci√≥n m√∫ltiple.
            </p>
            
            <!-- Botones de acci√≥n general -->
            <div class="flex justify-center flex-wrap gap-4 mb-8">
                <button id="randomize-btn" class="bg-gray-500 text-white font-bold py-2 px-6 rounded-full shadow-lg hover:bg-gray-600 focus:outline-none focus:ring-4 focus:ring-gray-300 transition-transform duration-200 transform scale-100 hover:scale-105 text-sm sm:text-base">
                    Aleatorizar Preguntas
                </button>
                <button id="reset-btn" class="bg-gray-400 text-white font-bold py-2 px-6 rounded-full shadow-lg hover:bg-gray-500 focus:outline-none focus:ring-4 focus:ring-gray-300 transition-transform duration-200 transform scale-100 hover:scale-105 text-sm sm:text-base">
                    Reiniciar Examen
                </button>
            </div>

            <!-- Tarjeta para la pregunta -->
            <div id="question-card" class="question-card p-4 sm:p-6 mb-8 rounded-2xl shadow-lg">
                <p id="question-text" class="text-lg sm:text-xl font-semibold mb-4 text-gray-800"></p>
                <div id="answers-container" class="space-y-3 sm:space-y-4">
                    <!-- Los botones de respuesta se generar√°n aqu√≠ con JavaScript -->
                </div>
                
                <!-- Contenedor para los botones de acci√≥n (Ver respuesta) -->
                <div id="action-buttons-container" class="flex flex-col sm:flex-row justify-start gap-4 mt-6">
                    <button id="show-answer-btn" class="bg-yellow-500 text-white font-bold py-2 px-6 rounded-full shadow-lg hover:bg-yellow-600 focus:outline-none focus:ring-4 focus:ring-yellow-300 transition-transform duration-200 transform scale-100 hover:scale-105">
                        Ver Respuesta
                    </button>
                </div>
            </div>

            <!-- √Årea para mostrar retroalimentaci√≥n y puntuaci√≥n -->
            <div id="feedback" class="text-center text-lg font-bold mb-4"></div>
            <div id="score" class="text-center text-2xl font-bold text-blue-700"></div>
            
            <!-- Botones de navegaci√≥n -->
            <div class="flex justify-center mt-6 space-x-4">
                <button id="next-btn" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300 transition-transform duration-200 transform scale-100 hover:scale-105">
                    Siguiente
                </button>
            </div>
        </div>

        <!-- Contenedor de resultados, oculto inicialmente -->
        <div id="results-screen" class="hidden">
            <div class="text-center">
                <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold mb-4 text-gray-800">
                    ¬°Examen Terminado! üéâ
                </h2>
                <div id="final-score" class="text-3xl sm:text-4xl md:text-5xl font-extrabold text-blue-700 mb-2"></div>
                <div id="star-rating" class="flex justify-center mb-6 text-2xl text-yellow-400"></div>
            </div>
            
            <!-- Lista de preguntas para repasar -->
            <div id="review-list-card" class="mt-8 p-4 sm:p-6 bg-white rounded-2xl shadow-lg">
                <h3 class="text-xl sm:text-2xl font-bold mb-4 text-red-600">
                    Preguntas para repasar: üßê
                </h3>
                <ul id="incorrect-questions-list" class="space-y-3 sm:space-y-4">
                    <!-- Los elementos de la lista se generar√°n aqu√≠ con JavaScript -->
                </ul>
            </div>
            
            <!-- Bot√≥n para reiniciar -->
            <div class="flex justify-center mt-6">
                <button id="restart-btn" class="bg-gray-400 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-gray-500 focus:outline-none focus:ring-4 focus:ring-gray-300 transition-transform duration-200 transform scale-100 hover:scale-105">
                    Reiniciar Examen
                </button>
            </div>
        </div>
    </div>

    <script>
        // Array de objetos con las preguntas, respuestas correctas y opciones incorrectas
        const quizDataOriginal = [
            {
                question: "¬øEn qu√© a√±os vivi√≥ S√≥crates y en qu√© se enfocaba su pensamiento?",
                answer: "Vivi√≥ entre 469 y 399 a.C.. Se enfocaba en el ser humano, la virtud, el bien y la justicia.",
                options: [
                    "Vivi√≥ entre 1561 y 1626. Fue pionero del pensamiento emp√≠rico moderno, desarroll√≥ el razonamiento inductivo y promovi√≥ la observaci√≥n y la experimentaci√≥n.",
                    "Vivi√≥ entre 384 y 322 a.C.. Fue disc√≠pulo de Plat√≥n, tutor de Alejandro Magno y fundador del Liceo.",
                    "Vivi√≥ entre 1724 y 1804. Integr√≥ el racionalismo y el empirismo afirmando que la mente posee estructuras innatas (a priori) que organizan la informaci√≥n sensorial.",
                    "Vivi√≥ entre 469 y 399 a.C.. Se enfocaba en el ser humano, la virtud, el bien y la justicia."
                ]
            },
            {
                question: "M√©todo desarrollado por S√≥crates y en qu√© consiste.",
                answer: "La may√©utica: un di√°logo que ayuda a las personas a descubrir sus propias ideas.",
                options: [
                    "El Imperativo Categ√≥rico: ley moral universal que reside en la conciencia a priori.",
                    "La may√©utica: un di√°logo que ayuda a las personas a descubrir sus propias ideas.",
                    "El Mito de la Caverna.",
                    "Se centraba en investigaciones sobre consumo de alcohol, drogas e inhalantes en la poblaci√≥n mexicana, generalmente vinculadas a estudios cl√≠nicos y de salud p√∫blica."
                ]
            },
            {
                question: "Frase c√©lebre de S√≥crates.",
                answer: "‚ÄúLa vida no examinada no merece la pena ser vivida‚Äù",
                options: [
                    "‚ÄúEl comportamiento humano deriva de tres fuentes principales: el deseo, la emoci√≥n y el conocimiento‚Äù",
                    "‚ÄúPienso, luego existo‚Äù (Cogito, ergo sum).",
                    "‚ÄúLa vida no examinada no merece la pena ser vivida‚Äù",
                    "‚ÄúEl conocimiento es percepci√≥n convertida en una idea‚Äù"
                ]
            },
            {
                question: "¬øCu√°ndo vivi√≥ Plat√≥n y cu√°l fue su principal teor√≠a?",
                answer: "Vivi√≥ entre 427 y 347 a.C.. Su Teor√≠a de las Ideas diferencia un mundo inteligible (ideas perfectas y eternas) y un mundo sensible (copia imperfecta).",
                options: [
                    "Vivi√≥ entre 427 y 347 a.C.. Su Teor√≠a de las Ideas diferencia un mundo inteligible (ideas perfectas y eternas) y un mundo sensible (copia imperfecta).",
                    "Vivi√≥ entre 1632 y 1704. Propuso que la mente humana nace sin ideas y todo conocimiento se adquiere por experiencia sensorial.",
                    "Vivi√≥ entre 1832 y 1920. Fue fisi√≥logo de formaci√≥n y es considerado el padre de la psicolog√≠a moderna.",
                    "Vivi√≥ entre 1561 y 1626. Fue pionero del pensamiento emp√≠rico moderno, desarroll√≥ el razonamiento inductivo y promovi√≥ la observaci√≥n y la experimentaci√≥n."
                ]
            },
            {
                question: "Met√°fora usada por Plat√≥n para explicar su teor√≠a.",
                answer: "El Mito de la Caverna.",
                options: [
                    "El Mito de la Caverna.",
                    "La may√©utica: un di√°logo que ayuda a las personas a descubrir sus propias ideas.",
                    "El Imperativo Categ√≥rico: ley moral universal que reside en la conciencia a priori.",
                    "Se centraba en investigaciones sobre consumo de alcohol, drogas e inhalantes en la poblaci√≥n mexicana, generalmente vinculadas a estudios cl√≠nicos y de salud p√∫blica."
                ]
            },
            {
                question: "Frase c√©lebre de Plat√≥n.",
                answer: "‚ÄúEl comportamiento humano deriva de tres fuentes principales: el deseo, la emoci√≥n y el conocimiento‚Äù",
                options: [
                    "‚ÄúLa virtud no consiste en hacer lo que uno quiere, sino en querer lo que uno hace‚Äù",
                    "‚ÄúEl conocimiento es percepci√≥n convertida en una idea‚Äù",
                    "‚ÄúEl comportamiento humano deriva de tres fuentes principales: el deseo, la emoci√≥n y el conocimiento‚Äù",
                    "‚ÄúPienso, luego existo‚Äù (Cogito, ergo sum)."
                ]
            },
            {
                question: "¬øCu√°ndo vivi√≥ Arist√≥teles y qu√© hizo en su carrera acad√©mica?",
                answer: "Vivi√≥ entre 384 y 322 a.C.. Fue disc√≠pulo de Plat√≥n, tutor de Alejandro Magno y fundador del Liceo.",
                options: [
                    "Vivi√≥ entre 1632 y 1677. Propuso una visi√≥n monista donde Dios y la Naturaleza son la misma cosa.",
                    "Vivi√≥ entre 1856 y 1939. Recibi√≥ influencia de Charcot y Breuer, que llevaron al m√©todo de la ‚Äúcura por el habla‚Äù",
                    "Vivi√≥ entre 384 y 322 a.C.. Fue disc√≠pulo de Plat√≥n, tutor de Alejandro Magno y fundador del Liceo.",
                    "Vivi√≥ entre 1798 y 1857. Defendi√≥ que el conocimiento v√°lido debe basarse solo en hechos observables."
                ]
            },
            {
                question: "Propuesta de Arist√≥teles sobre el alma.",
                answer: "Distingui√≥ tres aspectos: vegetativa, animal y racional.",
                options: [
                    "Defendi√≥ que la realidad existe solo si una mente la percibe (ser es ser percibido).",
                    "Distingui√≥ tres aspectos: vegetativa, animal y racional.",
                    "Se centraba en investigaciones sobre consumo de alcohol, drogas e inhalantes en la poblaci√≥n mexicana, generalmente vinculadas a estudios cl√≠nicos y de salud p√∫blica.",
                    "Propuso que la mente humana nace sin ideas y todo conocimiento se adquiere por experiencia sensorial."
                ]
            },
            {
                question: "Frase c√©lebre de Arist√≥teles.",
                answer: "‚ÄúLa virtud no consiste en hacer lo que uno quiere, sino en querer lo que uno hace‚Äù.",
                options: [
                    "‚ÄúLa vida no examinada no merece la pena ser vivida‚Äù",
                    "‚ÄúLa virtud no consiste en hacer lo que uno quiere, sino en querer lo que uno hace‚Äù.",
                    "‚ÄúEl conocimiento es percepci√≥n convertida en una idea‚Äù",
                    "‚ÄúNo hay nada en el intelecto, que no haya estado antes en los sentidos‚Äù."
                ]
            },
            {
                question: "¬øCu√°ndo vivi√≥ Francis Bacon y cu√°l fue su principal aporte?",
                answer: "Vivi√≥ entre 1561 y 1626. Fue pionero del pensamiento emp√≠rico moderno, desarroll√≥ el razonamiento inductivo y promovi√≥ la observaci√≥n y la experimentaci√≥n.",
                options: [
                    "Vivi√≥ entre 1561 y 1626. Fue pionero del pensamiento emp√≠rico moderno, desarroll√≥ el razonamiento inductivo y promovi√≥ la observaci√≥n y la experimentaci√≥n.",
                    "Vivi√≥ entre 1838 y 1917. Fue doctor en filosof√≠a y maestro de Sigmund Freud y Edmund Husserl.",
                    "Vivi√≥ entre 1856 y 1939. Recibi√≥ influencia de Charcot y Breuer, que llevaron al m√©todo de la ‚Äúcura por el habla‚Äù",
                    "Vivi√≥ entre 1632 y 1677. Propuso una visi√≥n monista donde Dios y la Naturaleza son la misma cosa."
                ]
            },
            {
                question: "¬øCu√°ndo vivi√≥ John Locke y qu√© propuso con ‚ÄúTabula rasa‚Äù?",
                answer: "Vivi√≥ entre 1632 y 1704. Propuso que la mente humana nace sin ideas y todo conocimiento se adquiere por experiencia sensorial.",
                options: [
                    "Vivi√≥ entre 1724 y 1804. Integr√≥ el racionalismo y el empirismo afirmando que la mente posee estructuras innatas (a priori).",
                    "Vivi√≥ entre 1596 y 1650. Es considerado el padre de la filosof√≠a moderna por buscar un fundamento indudable para el conocimiento.",
                    "Vivi√≥ entre 1632 y 1704. Propuso que la mente humana nace sin ideas y todo conocimiento se adquiere por experiencia sensorial.",
                    "Vivi√≥ entre 1798 y 1857. Defendi√≥ que el conocimiento v√°lido debe basarse solo en hechos observables."
                ]
            },
            {
                question: "Frase c√©lebre de Locke.",
                answer: "‚ÄúNo hay nada en el intelecto, que no haya estado antes en los sentidos‚Äù.",
                options: [
                    "‚ÄúLa virtud no consiste en hacer lo que uno quiere, sino en querer lo que uno hace‚Äù.",
                    "‚ÄúEl comportamiento humano deriva de tres fuentes principales: el deseo, la emoci√≥n y el conocimiento‚Äù",
                    "‚ÄúEl conocimiento es percepci√≥n convertida en una idea‚Äù",
                    "‚ÄúNo hay nada en el intelecto, que no haya estado antes en los sentidos‚Äù."
                ]
            },
            {
                question: "¬øCu√°ndo vivi√≥ George Berkeley y cu√°l fue su postulado radical?",
                answer: "Vivi√≥ entre 1685 y 1753. Defendi√≥ que la realidad existe solo si una mente la percibe (ser es ser percibido).",
                options: [
                    "Vivi√≥ entre 1596 y 1650. Propuso la distinci√≥n entre res extensa y res cogitans.",
                    "Vivi√≥ entre 1685 y 1753. Defendi√≥ que la realidad existe solo si una mente la percibe (ser es ser percibido).",
                    "Vivi√≥ entre 1856 y 1939. Recibi√≥ influencia de Charcot y Breuer, que llevaron al m√©todo de la ‚Äúcura por el habla‚Äù",
                    "Vivi√≥ entre 1632 y 1704. Propuso que la mente humana nace sin ideas y todo conocimiento se adquiere por experiencia sensorial."
                ]
            },
            {
                question: "Seg√∫n Berkeley, cu√°l es la fuente del orden del universo.",
                answer: "Dios, no la materia.",
                options: [
                    "La naturaleza.",
                    "El Imperativo Categ√≥rico.",
                    "Dios, no la materia.",
                    "La mente posee estructuras innatas (a priori) que organizan la informaci√≥n sensorial."
                ]
            },
            {
                question: "¬øCu√°ndo vivi√≥ Ren√© Descartes y por qu√© es considerado el padre de la filosof√≠a moderna?",
                answer: "Vivi√≥ entre 1596 y 1650. Es considerado el padre de la filosof√≠a moderna por buscar un fundamento indudable para el conocimiento y establecer la certeza de la existencia a trav√©s del pensamiento.",
                options: [
                    "Vivi√≥ entre 1596 y 1650. Es considerado el padre de la filosof√≠a moderna por buscar un fundamento indudable para el conocimiento y establecer la certeza de la existencia a trav√©s del pensamiento.",
                    "Vivi√≥ entre 1632 y 1677. Propuso una visi√≥n monista donde Dios y la Naturaleza son la misma cosa.",
                    "Vivi√≥ entre 1798 y 1857. Defendi√≥ que el conocimiento v√°lido debe basarse solo en hechos observables.",
                    "Vivi√≥ entre 1832 y 1920. Fue fisi√≥logo de formaci√≥n y es considerado el padre de la psicolog√≠a moderna."
                ]
            },
            {
                question: "¬øQu√© distinci√≥n propuso Descartes entre realidades?",
                answer: "Mundo material: res extensa; Mundo espiritual o del pensamiento: res cogitans.",
                options: [
                    "Distingui√≥ tres aspectos del alma: vegetativa, animal y racional.",
                    "Diferencia un mundo inteligible (ideas perfectas y eternas) y un mundo sensible (copia imperfecta).",
                    "Mundo material: res extensa; Mundo espiritual o del pensamiento: res cogitans.",
                    "El conocimiento es percepci√≥n convertida en una idea."
                ]
            },
            {
                question: "Frase c√©lebre de Descartes.",
                answer: "‚ÄúPienso, luego existo‚Äù (Cogito, ergo sum).",
                options: [
                    "‚ÄúNo hay nada en el intelecto, que no haya estado antes en los sentidos‚Äù",
                    "‚ÄúPienso, luego existo‚Äù (Cogito, ergo sum).",
                    "‚ÄúEl comportamiento humano deriva de tres fuentes principales: el deseo, la emoci√≥n y el conocimiento‚Äù",
                    "‚ÄúLa vida no examinada no merece la pena ser vivida‚Äù"
                ]
            },
            {
                question: "¬øCu√°ndo vivi√≥ Baruch Spinoza y qu√© visi√≥n propuso sobre el universo?",
                answer: "Vivi√≥ entre 1632 y 1677. Propuso una visi√≥n monista donde Dios y la Naturaleza son la misma cosa (Deus sive Natura), formando una √∫nica sustancia con mente y materia como atributos.",
                options: [
                    "Vivi√≥ entre 1632 y 1677. Propuso una visi√≥n monista donde Dios y la Naturaleza son la misma cosa (Deus sive Natura), formando una √∫nica sustancia con mente y materia como atributos.",
                    "Vivi√≥ entre 1632 y 1704. Propuso que la mente humana nace sin ideas y todo conocimiento se adquiere por experiencia sensorial.",
                    "Vivi√≥ entre 1724 y 1804. Integr√≥ el racionalismo y el empirismo afirmando que la mente posee estructuras innatas (a priori).",
                    "Vivi√≥ entre 1596 y 1650. Es considerado el padre de la filosof√≠a moderna por buscar un fundamento indudable para el conocimiento."
                ]
            },
            {
                question: "¬øQu√© papel cumplen las emociones en la filosof√≠a de Spinoza?",
                answer: "Son parte necesaria de la experiencia humana, derivadas del deseo de autopreservaci√≥n.",
                options: [
                    "Son un resultado de la interacci√≥n entre el mundo inteligible y el mundo sensible.",
                    "Son un reflejo de la 'res extensa' en el mundo material.",
                    "Son una ley moral universal que reside en la conciencia a priori.",
                    "Son parte necesaria de la experiencia humana, derivadas del deseo de autopreservaci√≥n."
                ]
            },
            {
                question: "¬øCu√°ndo vivi√≥ Immanuel Kant y qu√© s√≠ntesis filos√≥fica realiz√≥?",
                answer: "Vivi√≥ entre 1724 y 1804. Integr√≥ el racionalismo y el empirismo afirmando que la mente posee estructuras innatas (a priori) que organizan la informaci√≥n sensorial.",
                options: [
                    "Vivi√≥ entre 1724 y 1804. Integr√≥ el racionalismo y el empirismo afirmando que la mente posee estructuras innatas (a priori) que organizan la informaci√≥n sensorial.",
                    "Vivi√≥ entre 1632 y 1704. Propuso que la mente humana nace sin ideas y todo conocimiento se adquiere por experiencia sensorial.",
                    "Vivi√≥ entre 1632 y 1677. Propuso una visi√≥n monista donde Dios y la Naturaleza son la misma cosa.",
                    "Vivi√≥ entre 1798 y 1857. Defendi√≥ que el conocimiento v√°lido debe basarse solo en hechos observables."
                ]
            },
            {
                question: "Principio moral fundamental propuesto por Kant.",
                answer: "El Imperativo Categ√≥rico: ley moral universal que reside en la conciencia a priori.",
                options: [
                    "La may√©utica: un di√°logo que ayuda a las personas a descubrir sus propias ideas.",
                    "El Imperativo Categ√≥rico: ley moral universal que reside en la conciencia a priori.",
                    "La virtud no consiste en hacer lo que uno quiere, sino en querer lo que uno hace.",
                    "La vida no examinada no merece la pena ser vivida."
                ]
            },
            {
                question: "Frase c√©lebre de Kant.",
                answer: "‚ÄúEl conocimiento es percepci√≥n convertida en una idea‚Äù",
                options: [
                    "‚ÄúPienso, luego existo‚Äù",
                    "‚ÄúEl conocimiento es percepci√≥n convertida en una idea‚Äù",
                    "‚ÄúNo hay nada en el intelecto, que no haya estado antes en los sentidos‚Äù",
                    "‚ÄúLa vida no examinada no merece la pena ser vivida‚Äù"
                ]
            },
            {
                question: "¬øCu√°ndo vivi√≥ Auguste Comte y qu√© defendi√≥ en su positivismo?",
                answer: "Vivi√≥ entre 1798 y 1857. Defendi√≥ que el conocimiento v√°lido debe basarse solo en hechos observables y propuso una jerarqu√≠a de seis ciencias: matem√°ticas, astronom√≠a, f√≠sica, qu√≠mica, biolog√≠a y sociolog√≠a.",
                options: [
                    "Vivi√≥ entre 1798 y 1857. Defendi√≥ que el conocimiento v√°lido debe basarse solo en hechos observables y propuso una jerarqu√≠a de seis ciencias: matem√°ticas, astronom√≠a, f√≠sica, qu√≠mica, biolog√≠a y sociolog√≠a.",
                    "Vivi√≥ entre 1832 y 1920. Fue fisi√≥logo de formaci√≥n y es considerado el padre de la psicolog√≠a moderna.",
                    "Vivi√≥ entre 1838 y 1917. Fue doctor en filosof√≠a y maestro de Sigmund Freud y Edmund Husserl.",
                    "Vivi√≥ entre 1856 y 1939. Recibi√≥ influencia de Charcot y Breuer."
                ]
            },
            {
                question: "¬øCu√°ndo vivi√≥ Wilhelm Wundt y cu√°l fue su formaci√≥n acad√©mica?",
                answer: "Vivi√≥ entre 1832 y 1920. Fue fisi√≥logo de formaci√≥n y es considerado el padre de la psicolog√≠a moderna.",
                options: [
                    "Vivi√≥ entre 1798 y 1857. Defendi√≥ que el conocimiento v√°lido debe basarse solo en hechos observables.",
                    "Vivi√≥ entre 1832 y 1920. Fue fisi√≥logo de formaci√≥n y es considerado el padre de la psicolog√≠a moderna.",
                    "Vivi√≥ entre 1838 y 1917. Fue doctor en filosof√≠a y maestro de Sigmund Freud y Edmund Husserl.",
                    "Vivi√≥ entre 1856 y 1939. Recibi√≥ influencia de Charcot y Breuer."
                ]
            },
            {
                question: "¬øQu√© objetivo ten√≠a la psicolog√≠a estructural de Wundt?",
                answer: "Analizar la conciencia en sus elementos b√°sicos, c√≥mo se combinan y su relaci√≥n con el sistema nervioso.",
                options: [
                    "Se centraba en investigaciones sobre consumo de alcohol, drogas e inhalantes en la poblaci√≥n mexicana.",
                    "Analizar la conciencia en sus elementos b√°sicos, c√≥mo se combinan y su relaci√≥n con el sistema nervioso.",
                    "Propuso una visi√≥n monista donde Dios y la Naturaleza son la misma cosa.",
                    "Defendi√≥ que la realidad existe solo si una mente la percibe."
                ]
            },
            {
                question: "¬øEn qu√© a√±o fund√≥ Wundt el primer laboratorio de psicolog√≠a experimental?",
                answer: "En 1897, en Leipzig, Alemania.",
                options: [
                    "En 1959, en la UNAM.",
                    "En 1897, en Leipzig, Alemania.",
                    "En 1967, en el Primer Congreso Mexicano de Psicolog√≠a.",
                    "En 1632, en Holanda."
                ]
            },
            {
                question: "¬øCu√°ndo vivi√≥ Franz Brentano y qu√© papel tuvo en la formaci√≥n de otros pensadores?",
                answer: "Vivi√≥ entre 1838 y 1917. Fue doctor en filosof√≠a y maestro de Sigmund Freud y Edmund Husserl.",
                options: [
                    "Vivi√≥ entre 1838 y 1917. Fue doctor en filosof√≠a y maestro de Sigmund Freud y Edmund Husserl.",
                    "Vivi√≥ entre 1856 y 1939. Recibi√≥ influencia de Charcot y Breuer, que llevaron al m√©todo de la ‚Äúcura por el habla‚Äù.",
                    "Vivi√≥ entre 1632 y 1704. Propuso que la mente humana nace sin ideas y todo conocimiento se adquiere por experiencia sensorial.",
                    "Vivi√≥ entre 1798 y 1857. Defendi√≥ que el conocimiento v√°lido debe basarse solo en hechos observables."
                ]
            },
            {
                question: "Definici√≥n de psicolog√≠a seg√∫n Brentano.",
                answer: "Ciencia de los procesos ps√≠quicos, expresados como actos y procesos (por ejemplo, ver, juzgar), con √©nfasis en la experiencia subjetiva e intencionalidad.",
                options: [
                    "La ciencia de los reflejos condicionados.",
                    "Analizar la conciencia en sus elementos b√°sicos, c√≥mo se combinan y su relaci√≥n con el sistema nervioso.",
                    "Ciencia de los procesos ps√≠quicos, expresados como actos y procesos (por ejemplo, ver, juzgar), con √©nfasis en la experiencia subjetiva e intencionalidad.",
                    "Se centraba en investigaciones sobre consumo de alcohol, drogas e inhalantes en la poblaci√≥n mexicana."
                ]
            },
            {
                question: "¬øCu√°ndo vivi√≥ Sigmund Freud y qu√© influencias recibi√≥ para desarrollar el psicoan√°lisis?",
                answer: "Vivi√≥ entre 1856 y 1939. Recibi√≥ influencia de Charcot (estudios sobre histeria) y Breuer (Caso Ana O.), que llevaron al m√©todo de la ‚Äúcura por el habla‚Äù.",
                options: [
                    "Vivi√≥ entre 1856 y 1939. Recibi√≥ influencia de Charcot (estudios sobre histeria) y Breuer (Caso Ana O.), que llevaron al m√©todo de la ‚Äúcura por el habla‚Äù.",
                    "Vivi√≥ entre 1798 y 1857. Defendi√≥ que el conocimiento v√°lido debe basarse solo en hechos observables.",
                    "Vivi√≥ entre 1832 y 1920. Fue fisi√≥logo de formaci√≥n y es considerado el padre de la psicolog√≠a moderna.",
                    "Vivi√≥ entre 1838 y 1917. Fue doctor en filosof√≠a y maestro de Sigmund Freud y Edmund Husserl."
                ]
            },
            {
                question: "Origen del conductismo y figura clave en EE.UU.",
                answer: "Naci√≥ de la reflexolog√≠a de Iv√°n Pavlov (reflejos condicionados). En EE.UU. destac√≥ B.F. Skinner con el condicionamiento operante.",
                options: [
                    "Se centr√≥ en investigaciones sobre consumo de alcohol, drogas e inhalantes en la poblaci√≥n mexicana.",
                    "Naci√≥ de la reflexolog√≠a de Iv√°n Pavlov (reflejos condicionados). En EE.UU. destac√≥ B.F. Skinner con el condicionamiento operante.",
                    "Inspirado en el existencialismo (Kierkegaard, Heidegger, Sartre).",
                    "Enfoque que combina el psicoan√°lisis freudiano con la filosof√≠a de la Escuela de Frankfurt."
                ]
            },
            {
                question: "Ra√≠z filos√≥fica del humanismo y principales exponentes.",
                answer: "Inspirado en el existencialismo (Kierkegaard, Heidegger, Sartre). Principales exponentes: Abraham Maslow, Carl Rogers y Rollo May.",
                options: [
                    "Inspirado en el existencialismo (Kierkegaard, Heidegger, Sartre). Principales exponentes: Abraham Maslow, Carl Rogers y Rollo May.",
                    "Naci√≥ de la reflexolog√≠a de Iv√°n Pavlov (reflejos condicionados).",
                    "Enfoque que combina el psicoan√°lisis freudiano con la filosof√≠a de la Escuela de Frankfurt.",
                    "Se centr√≥ en investigaciones sobre consumo de alcohol, drogas e inhalantes en la poblaci√≥n mexicana."
                ]
            },
            {
                question: "Etapas de la Pir√°mide de Maslow (en orden).",
                answer: "Fisiolog√≠a ‚Üí Seguridad ‚Üí Afiliaci√≥n ‚Üí Reconocimiento ‚Üí Autorrealizaci√≥n.",
                options: [
                    "Autorrealizaci√≥n ‚Üí Reconocimiento ‚Üí Afiliaci√≥n ‚Üí Seguridad ‚Üí Fisiolog√≠a.",
                    "Fisiolog√≠a ‚Üí Seguridad ‚Üí Afiliaci√≥n ‚Üí Reconocimiento ‚Üí Autorrealizaci√≥n.",
                    "Seguridad ‚Üí Afiliaci√≥n ‚Üí Reconocimiento ‚Üí Fisiolog√≠a ‚Üí Autorrealizaci√≥n.",
                    "Afiliaci√≥n ‚Üí Reconocimiento ‚Üí Fisiolog√≠a ‚Üí Seguridad ‚Üí Autorrealizaci√≥n."
                ]
            },
            {
                question: "¬øCu√°l fue el papel inicial de los psic√≥logos en M√©xico?",
                answer: "En sus inicios, actuaban principalmente como auxiliares de m√©dicos y psiquiatras.",
                options: [
                    "Eran considerados los l√≠deres del enfoque transcultural.",
                    "Fundaron el primer laboratorio de psicolog√≠a experimental en la UNAM.",
                    "En sus inicios, actuaban principalmente como auxiliares de m√©dicos y psiquiatras.",
                    "Introdujeron el Freudo-Marxismo."
                ]
            },
            {
                question: "¬øQu√© hecho marc√≥ un hito en la formaci√≥n profesional de psic√≥logos en M√©xico?",
                answer: "La fundaci√≥n de la carrera de Psicolog√≠a en la UNAM en 1959.",
                options: [
                    "El Primer Congreso Mexicano de Psicolog√≠a (1967).",
                    "La fundaci√≥n del laboratorio de Wilhelm Wundt en 1897.",
                    "La fundaci√≥n de la carrera de Psicolog√≠a en la UNAM en 1959.",
                    "La introducci√≥n del Freudo-Marxismo por psicoanalistas argentinos."
                ]
            },
            {
                question: "Entre 1975 y 1990, menciona tres enfoques predominantes en M√©xico.",
                answer: "Conductismo, psicolog√≠a transcultural y enfoque psiqui√°trico-psicom√©trico.",
                options: [
                    "Conductismo, humanismo y psicoan√°lisis.",
                    "Racionalismo, empirismo y apriorismo.",
                    "Conductismo, psicolog√≠a transcultural y enfoque psiqui√°trico-psicom√©trico.",
                    "Freudo-Marxismo, existencialismo y positivismo."
                ]
            },
            {
                question: "Enfoque Psiqui√°trico-Psicom√©trico.",
                answer: "Se centraba en investigaciones sobre consumo de alcohol, drogas e inhalantes en la poblaci√≥n mexicana, generalmente vinculadas a estudios cl√≠nicos y de salud p√∫blica.",
                options: [
                    "Buscaba una psicolog√≠a cient√≠fica y mexicana, estudiando las caracter√≠sticas psicol√≥gicas del pueblo mediante cuestionarios y tests.",
                    "Analizar la conciencia en sus elementos b√°sicos, c√≥mo se combinan y su relaci√≥n con el sistema nervioso.",
                    "Se centraba en investigaciones sobre consumo de alcohol, drogas e inhalantes en la poblaci√≥n mexicana, generalmente vinculadas a estudios cl√≠nicos y de salud p√∫blica.",
                    "Defendi√≥ el enfoque est√≠mulo-respuesta como la √∫nica postura cient√≠fica v√°lida."
                ]
            },
            {
                question: "Enfoque Transcultural.",
                answer: "Buscaba una psicolog√≠a cient√≠fica y mexicana, estudiando las caracter√≠sticas psicol√≥gicas del pueblo mediante cuestionarios y tests. Surgi√≥ como reacci√≥n contra las posiciones especulativas y la dependencia de la psiquiatr√≠a extranjera.",
                options: [
                    "Se centraba en investigaciones sobre consumo de alcohol, drogas e inhalantes en la poblaci√≥n mexicana.",
                    "Buscaba una psicolog√≠a cient√≠fica y mexicana, estudiando las caracter√≠sticas psicol√≥gicas del pueblo mediante cuestionarios y tests. Surgi√≥ como reacci√≥n contra las posiciones especulativas y la dependencia de la psiquiatr√≠a extranjera.",
                    "Enfoque que combina el psicoan√°lisis freudiano con la filosof√≠a de la Escuela de Frankfurt.",
                    "Defendi√≥ el enfoque est√≠mulo-respuesta como la √∫nica postura cient√≠fica v√°lida."
                ]
            },
            {
                question: "Movimiento Conductista en M√©xico.",
                answer: "Liderado por Emilio Ribes. En el Primer Congreso Mexicano de Psicolog√≠a (1967) defendi√≥ el enfoque est√≠mulo-respuesta como la √∫nica postura cient√≠fica v√°lida y critic√≥ la brecha entre la teor√≠a universitaria y la pr√°ctica profesional.",
                options: [
                    "Liderado por Abraham Maslow. Inspirado en el existencialismo.",
                    "Liderado por Wilhelm Wundt. Se enfocaba en analizar la conciencia en sus elementos b√°sicos.",
                    "Liderado por Baruch Spinoza. Propuso una visi√≥n monista del universo.",
                    "Liderado por Emilio Ribes. En el Primer Congreso Mexicano de Psicolog√≠a (1967) defendi√≥ el enfoque est√≠mulo-respuesta como la √∫nica postura cient√≠fica v√°lida y critic√≥ la brecha entre la teor√≠a universitaria y la pr√°ctica profesional."
                ]
            },
            {
                question: "Freudo-Marxismo.",
                answer: "Enfoque que combina el psicoan√°lisis freudiano con la filosof√≠a de la Escuela de Frankfurt (Marcuse, Adorno). Fue introducido en M√©xico principalmente por psicoanalistas argentinos.",
                options: [
                    "Enfoque que combina el psicoan√°lisis freudiano con la filosof√≠a de la Escuela de Frankfurt (Marcuse, Adorno). Fue introducido en M√©xico principalmente por psicoanalistas argentinos.",
                    "Enfoque que busca una psicolog√≠a cient√≠fica y mexicana, estudiando las caracter√≠sticas psicol√≥gicas del pueblo.",
                    "Enfoque centrado en investigaciones sobre consumo de alcohol, drogas e inhalantes en la poblaci√≥n mexicana.",
                    "Enfoque que propone que el conocimiento v√°lido debe basarse solo en hechos observables."
                ]
            },
            {
                question: "Empirismo ‚Äì John Locke (1632-1704).",
                answer: "‚ÄúNo hay nada en el intelecto, que no haya estado antes en los sentidos‚Äù",
                options: [
                    "‚ÄúPienso, luego existo‚Äù",
                    "‚ÄúEl conocimiento es percepci√≥n convertida en una idea‚Äù",
                    "‚ÄúLa vida no examinada no merece la pena ser vivida‚Äù",
                    "‚ÄúNo hay nada en el intelecto, que no haya estado antes en los sentidos‚Äù"
                ]
            },
            {
                question: "Racionalismo ‚Äì Ren√© Descartes (1596-1650).",
                answer: "‚ÄúPienso, luego existo‚Äù",
                options: [
                    "‚ÄúLa virtud no consiste en hacer lo que uno quiere, sino en querer lo que uno hace‚Äù",
                    "‚ÄúPienso, luego existo‚Äù",
                    "‚ÄúLa vida no examinada no merece la pena ser vivida‚Äù",
                    "‚ÄúNo hay nada en el intelecto, que no haya estado antes en los sentidos‚Äù"
                ]
            },
            {
                question: "Apriorismo ‚Äì Immanuel Kant (1724-1804).",
                answer: "‚ÄúEl conocimiento es percepci√≥n convertida en una idea‚Äù",
                options: [
                    "‚ÄúEl comportamiento humano deriva de tres fuentes: el deseo, la emoci√≥n y el conocimiento‚Äù",
                    "‚ÄúPienso, luego existo‚Äù",
                    "‚ÄúEl conocimiento es percepci√≥n convertida en una idea‚Äù",
                    "‚ÄúLa virtud no consiste en hacer lo que uno quiere, sino en querer lo que uno hace‚Äù"
                ]
            },
            {
                question: "S√≥crates (469-399 a.C.).",
                answer: "‚ÄúLa vida no examinada no merece la pena ser vivida‚Äù",
                options: [
                    "‚ÄúEl comportamiento humano deriva de tres fuentes: el deseo, la emoci√≥n y el conocimiento‚Äù",
                    "‚ÄúPienso, luego existo‚Äù",
                    "‚ÄúLa vida no examinada no merece la pena ser vivida‚Äù",
                    "‚ÄúEl conocimiento es percepci√≥n convertida en una idea‚Äù"
                ]
            },
            {
                question: "Plat√≥n (427-347 a.C.).",
                answer: "‚ÄúEl comportamiento humano deriva de tres fuentes: el deseo, la emoci√≥n y el conocimiento‚Äù",
                options: [
                    "‚ÄúEl comportamiento humano deriva de tres fuentes: el deseo, la emoci√≥n y el conocimiento‚Äù",
                    "‚ÄúLa virtud no consiste en hacer lo que uno quiere, sino en querer lo que uno hace‚Äù",
                    "‚ÄúLa vida no examinada no merece la pena ser vivida‚Äù",
                    "‚ÄúEl conocimiento es percepci√≥n convertida en una idea‚Äù"
                ]
            },
            {
                question: "Arist√≥teles (384-322 a.C.).",
                answer: "‚ÄúLa virtud no consiste en hacer lo que uno quiere, sino en querer lo que uno hace‚Äù.",
                options: [
                    "‚ÄúPienso, luego existo‚Äù",
                    "‚ÄúLa virtud no consiste en hacer lo que uno quiere, sino en querer lo que uno hace‚Äù.",
                    "‚ÄúNo hay nada en el intelecto, que no haya estado antes en los sentidos‚Äù",
                    "‚ÄúLa vida no examinada no merece la pena ser vivida‚Äù"
                ]
            }
        ];

        let quizData = [...quizDataOriginal];
        let currentQuestionIndex = 0;
        let score = 0;
        let isAnswered = false;
        let incorrectQuestions = [];
        let timerId;

        const quizScreen = document.getElementById('quiz-screen');
        const resultsScreen = document.getElementById('results-screen');
        const questionCard = document.getElementById('question-card');
        const questionText = document.getElementById('question-text');
        const answersContainer = document.getElementById('answers-container');
        const nextBtn = document.getElementById('next-btn');
        const restartBtn = document.getElementById('restart-btn');
        const feedback = document.getElementById('feedback');
        const scoreDisplay = document.getElementById('score');
        const finalScoreDisplay = document.getElementById('final-score');
        const starRatingContainer = document.getElementById('star-rating');
        const incorrectQuestionsList = document.getElementById('incorrect-questions-list');
        const showAnswerBtn = document.getElementById('show-answer-btn');
        const randomizeBtn = document.getElementById('randomize-btn');
        const resetButton = document.getElementById('reset-btn');
        const body = document.body;

        // Funci√≥n para mezclar un array
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // Guarda el estado actual del quiz en el almacenamiento local
        function saveQuizState() {
            const state = {
                quizData,
                currentQuestionIndex,
                score,
                incorrectQuestions,
                timestamp: new Date().getTime()
            };
            localStorage.setItem('quizState', JSON.stringify(state));
        }

        // Carga el estado del quiz desde el almacenamiento local
        function loadQuizState() {
            const savedState = localStorage.getItem('quizState');
            if (savedState) {
                const state = JSON.parse(savedState);
                const now = new Date().getTime();
                // 5 horas en milisegundos
                const fiveHours = 5 * 60 * 60 * 1000; 

                if (now - state.timestamp < fiveHours) {
                    quizData = state.quizData;
                    currentQuestionIndex = state.currentQuestionIndex;
                    score = state.score;
                    incorrectQuestions = state.incorrectQuestions;
                    // Mostramos la primera pregunta, si el quiz ya hab√≠a terminado, se muestra la pantalla de resultados
                    if (currentQuestionIndex < quizData.length) {
                        showQuestion();
                    } else {
                        showFinalResults();
                    }
                    console.log("Estado del quiz cargado desde la √∫ltima sesi√≥n.");
                } else {
                    console.log("El estado guardado ha caducado. Iniciando un nuevo quiz.");
                    startNewQuiz();
                }
            } else {
                console.log("No se encontr√≥ estado guardado. Iniciando un nuevo quiz.");
                startNewQuiz();
            }
        }

        // Inicia un nuevo quiz
        function startNewQuiz(isRandom = false) {
            if (isRandom) {
                quizData = [...quizDataOriginal];
                shuffleArray(quizData);
            } else {
                quizData = [...quizDataOriginal];
            }
            currentQuestionIndex = 0;
            score = 0;
            incorrectQuestions = [];
            localStorage.removeItem('quizState');
            quizScreen.classList.remove('hidden');
            resultsScreen.classList.add('hidden');
            showQuestion();
        }

        // Muestra la pregunta actual y sus opciones
        function showQuestion() {
            isAnswered = false;
            answersContainer.innerHTML = '';
            feedback.textContent = '';
            nextBtn.textContent = 'Siguiente';
            
            // Limpiamos cualquier temporizador anterior
            if (timerId) clearTimeout(timerId);
            
            // Ocultamos la explicaci√≥n de la IA
            
            // Se mantiene el bot√≥n de ver respuesta
            showAnswerBtn.classList.remove('hidden');
            
            // Limpiamos los bordes de la tarjeta de la pregunta
            questionCard.classList.remove('card-border-correct', 'card-border-incorrect');
            questionCard.id = `question-card-${currentQuestionIndex}`;

            const currentQuestion = quizData[currentQuestionIndex];
            questionText.textContent = `${currentQuestionIndex + 1}. ${currentQuestion.question}`;

            shuffleArray(currentQuestion.options);

            currentQuestion.options.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('answer-button', 'w-full', 'p-3', 'sm:p-4', 'bg-gray-100', 'hover:bg-gray-200', 'rounded-xl', 'text-left', 'text-gray-800', 'text-sm', 'sm:text-base', 'font-medium', 'focus:outline-none', 'transition-colors', 'duration-200');
                
                button.addEventListener('click', () => {
                    checkAnswer(button, option);
                });
                answersContainer.appendChild(button);
            });

            scoreDisplay.textContent = `Puntuaci√≥n: ${score} de ${quizData.length}`;
            nextBtn.classList.remove('next-pulse');
            saveQuizState();
        }

        // Verifica la respuesta del usuario y programa el avance autom√°tico
        function checkAnswer(selectedButton, selectedOption) {
            if (isAnswered) return;

            isAnswered = true;
            const currentQuestion = quizData[currentQuestionIndex];
            const isCorrect = selectedOption === currentQuestion.answer;

            if (isCorrect) {
                score++;
                feedback.textContent = '¬°Correcto! ‚úÖ';
                feedback.classList.remove('text-red-600');
                feedback.classList.add('text-green-600');
                selectedButton.classList.add('correct');
                questionCard.classList.add('card-border-correct');
            } else {
                feedback.textContent = 'Incorrecto. ‚ùå';
                feedback.classList.remove('text-green-600');
                feedback.classList.add('text-red-600');
                selectedButton.classList.add('incorrect');
                questionCard.classList.add('card-border-incorrect');
                
                incorrectQuestions.push({
                    index: currentQuestionIndex,
                    question: currentQuestion.question,
                    correctAnswer: currentQuestion.answer
                });
                
                const buttons = answersContainer.querySelectorAll('.answer-button');
                buttons.forEach(btn => {
                    if (btn.textContent === currentQuestion.answer) {
                        btn.classList.add('correct-answer-display');
                    }
                });
            }
            
            disableAnswerButtons();
            showAnswerBtn.classList.add('hidden');
            saveQuizState();
            
            // Iniciar temporizador para avanzar autom√°ticamente despu√©s de 1.5 segundos
            timerId = setTimeout(nextQuestion, 1500);
            
            // A√±adir listener al body para avance inmediato al hacer clic en cualquier lugar
            body.addEventListener('click', skipTimer, { once: true });
        }
        
        // Funci√≥n para saltar el temporizador
        function skipTimer() {
            if (timerId) {
                clearTimeout(timerId);
                timerId = null;
                nextQuestion();
            }
        }

        // Deshabilita los botones de respuesta
        function disableAnswerButtons() {
            const allButtons = answersContainer.querySelectorAll('.answer-button');
            allButtons.forEach(btn => {
                btn.disabled = true;
                btn.classList.remove('hover:bg-gray-200');
                btn.classList.add('cursor-not-allowed');
            });
        }
        
        // Muestra la respuesta correcta
        function showCorrectAnswer() {
            if (isAnswered) return;
            isAnswered = true;
            
            const currentQuestion = quizData[currentQuestionIndex];
            const buttons = answersContainer.querySelectorAll('.answer-button');
            buttons.forEach(btn => {
                if (btn.textContent === currentQuestion.answer) {
                    btn.classList.add('correct-answer-display');
                }
            });

            feedback.textContent = `Respuesta correcta: ${currentQuestion.answer}`;
            feedback.classList.remove('text-green-600', 'text-red-600');
            feedback.classList.add('text-gray-800');
            
            disableAnswerButtons();
            showAnswerBtn.classList.add('hidden');
            
            // Iniciar temporizador para avanzar autom√°ticamente despu√©s de 5 segundos
            timerId = setTimeout(nextQuestion, 5000);
            
            // A√±adir listener al body para avance inmediato al hacer clic en cualquier lugar
            body.addEventListener('click', skipTimer, { once: true });
        }

        // Muestra la pantalla de resultados finales
        function showFinalResults() {
            localStorage.removeItem('quizState');
            quizScreen.classList.add('hidden');
            resultsScreen.classList.remove('hidden');
            finalScoreDisplay.textContent = `${score} de ${quizData.length} correctas`;

            // Generar calificaci√≥n de estrellas
            starRatingContainer.innerHTML = '';
            const totalStars = 5;
            const filledStars = Math.round((score / quizData.length) * totalStars);
            for (let i = 0; i < totalStars; i++) {
                const star = document.createElement('i');
                star.classList.add('fas', 'fa-star');
                if (i >= filledStars) {
                    star.classList.remove('text-yellow-400');
                    star.classList.add('text-gray-300');
                }
                starRatingContainer.appendChild(star);
            }

            // Llenar la lista de preguntas para repasar
            incorrectQuestionsList.innerHTML = '';
            if (incorrectQuestions.length > 0) {
                incorrectQuestions.forEach(item => {
                    const listItem = document.createElement('li');
                    listItem.classList.add('flex', 'items-start', 'flex-col', 'sm:flex-row', 'space-y-2', 'sm:space-y-0', 'sm:space-x-3', 'p-4', 'bg-gray-50', 'rounded-xl', 'shadow-sm', 'cursor-pointer', 'hover:bg-gray-100');
                    listItem.innerHTML = `
                        <div class="flex-shrink-0 mt-1">
                            <span class="text-xl text-red-500">‚ùå</span>
                        </div>
                        <div>
                            <p class="font-bold text-gray-800">${item.question}</p>
                            <p class="text-sm text-gray-600">
                                <span class="font-semibold text-green-600">Respuesta correcta:</span> ${item.correctAnswer}
                            </p>
                        </div>
                    `;
                    // Agregamos el evento de clic para desplazarse
                    listItem.addEventListener('click', () => scrollToQuestion(item.index));
                    incorrectQuestionsList.appendChild(listItem);
                });
            } else {
                incorrectQuestionsList.innerHTML = `
                    <p class="text-center text-gray-500 italic">¬°Felicidades! Respondiste todas las preguntas correctamente. üéâ</p>
                `;
            }
        }

        // Desplaza la vista a la tarjeta de una pregunta espec√≠fica
        function scrollToQuestion(index) {
            const questionElement = document.getElementById(`question-card-${index}`);
            if (questionElement) {
                // Navegar de vuelta a la pantalla del quiz antes de desplazar
                resultsScreen.classList.add('hidden');
                quizScreen.classList.remove('hidden');
                
                // Desplazamiento suave a la pregunta
                questionElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }

        // Pasa a la siguiente pregunta
        function nextQuestion() {
            if (!isAnswered) {
                return;
            }

            currentQuestionIndex++;
            if (currentQuestionIndex < quizData.length) {
                showQuestion();
            } else {
                showFinalResults();
            }
        }

        // Asignar los eventos a los botones
        nextBtn.addEventListener('click', nextQuestion);
        randomizeBtn.addEventListener('click', () => startNewQuiz(true));
        resetButton.addEventListener('click', () => startNewQuiz(false));
        restartBtn.addEventListener('click', () => startNewQuiz(false));
        showAnswerBtn.addEventListener('click', showCorrectAnswer);

        // Iniciar el quiz al cargar la p√°gina o cargar estado guardado
        window.onload = loadQuizState;
    </script>
</body>
</html>